---
title: "dimex"
author: "Toni Price"
date: last-modified
date-format: "[Last updated:] DD MMMM, YYYY"
format: 
  html:
    mermaid: 
      theme: default
vignette: >
  %\VignetteIndexEntry{dimex}
  %\VignetteEngine{quarto::html}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(dimex)
```

## Introduction

TODO: TBC

See also the [configuration](config.html) and [development](development.html)
vignettes.

## Data workflow

### Data phases

```{mermaid}
flowchart LR
  A("Raw") --> B("Wrangled")
  B --> C("Output")
```

1. Initial input is raw data (e.g. '.csv' files, '.nc' files).
2. Raw data is then processed by transforming, merging, etc. (which is
collectively called 'wrangling').
3. The wrangled data is finally used for producing output.

### Environments

For each of these data wrangling phases, there are three possible environments:

- `ref`: Reference data
  - historical data
  - for comparison with data being produced from current code
  - to ensure the converted code is working as expected

- `act`: Actual data
  - data currently being produced by the code
  - can be compared with reference data in automated tests

- `test`: Test data
  - small enough to use for unit/integration tests
  - can be reliably reproduced

## Getting started

### Configuration

See [configuration](config.html) for configuration information.

### Running the pipeline

The main entry point for running the code is the
<!-- TODO: Make sure this link is working once the doc site is being built -->
<!-- with pkgdown -->
[run_workflow()](/reference/run_workflow.html)
function.
If run without any arguments, it will run all workflow steps by default. You can
also:
- Test which steps will run by providing a `banner_only` argument (in which
case the steps would not be run but a banner would be printed for each step);
and
- Run a selection of steps by supplying a comma-separated string of step IDs,
for example, "1a" or "4a, 4b".

```{r, eval=FALSE}
# Run each step in the workflow
run_workflow()

# Run steps 4a and 4b only
run_workflow("4a, 4b")

# Don't run any steps but print out a banner for each step that would be run
run_workflow(banner_only = TRUE)
```

## Development

For development work on the `dimex` package, see
[development](development.html).
